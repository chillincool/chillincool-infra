---
# StepClusterIssuer for cluster-wide certificate issuance
apiVersion: certmanager.step.sm/v1beta1
kind: StepClusterIssuer
metadata:
  name: step-ca
spec:
  # step-ca service URL (internal cluster DNS)
  url: https://step-ca-step-certificates.step-ca.svc.cluster.local
  # CA bundle from step-ca (full chain: intermediate + root)
  caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUIwekNDQVhxZ0F3SUJBZ0lRQ0dLV0VRWGRQQXY2Q0QvMGdFaGZWekFLQmdncWhrak9QUVFEQWpBME1SUXcKRWdZRFZRUUtFd3RqYUdsc2JHbHVZMjl2YkRFY01Cb0dBMVVFQXhNVFkyaHBiR3hwYm1OdmIyd2dVbTl2ZENCRApRVEFlRncweU5qQXhNREV5TURBd05ETmFGdzB6TlRFeU16QXlNREF3TkROYU1Ed3hGREFTQmdOVkJBb1RDMk5vCmFXeHNhVzVqYjI5c01TUXdJZ1lEVlFRREV4dGphR2xzYkdsdVkyOXZiQ0JKYm5SbGNtMWxaR2xoZEdVZ1EwRXcKV1RBVEJnY3Foa2pPUFFJQkJnZ3Foa2pPUFFNQkJ3TkNBQVFobndtMTR4VUNpcVptalFqdXN4anZFVG41WGZiSgpVODZma3Z1azU1L3EwMWpuZXk5aWxDZkY4SFYrdTNWRGI2WUc4RWFRS00wYUVBd1RLVXNKUit6NG8yWXdaREFPCkJnTlZIUThCQWY4RUJBTUNBUVl3RWdZRFZSMFRBUUgvQkFnd0JnRUIvd0lCQURBZEJnTlZIUTRFRmdRVS9pN1YKUUxSbnV4SzJuZ2pDSWJxYTIrMUl6T1l3SHdZRFZSMGpCQmd3Rm9BVUN4eUIwRnIwWkNhMDk4WmFtR0g5enN3RQplZnN3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnSVVEVy8zTmkzOHhUcGlsREN0SnNqWUdCYWdMM2JKNk1NLzVRCitFbnUxaWNDSUhwWFhMSHVCRVBUbVVMRkwrZkIwaW4wZ1diaTlVODJ4eVp2dXRNd2RsMzYKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLS0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlCcXpDQ0FWR2dBd0lCQWdJUVIxUTltQUpGa2l1SXdCclFTbk81Z2pBS0JnZ3Foa2pPUFFRREFqQTBNUlF3CkVnWURWUVFLRXd0amFHbHNiR2x1WTI5dmJERWNNQm9HQTFVRUF4TVRZMmhwYkd4cGJtTnZiMndnVW05dmRDQkQKUVRBZUZ3MHlOakF4TURFeU1EQXdOREphRncwek5URXlNekF5TURBd05ESmFNRFF4RkRBU0JnTlZCQW9UQzJObwphV3hzYVc1amIyOXNNUnd3R2dZRFZRUURFeE5qYUdsc2JHbHVZMjl2YkNCU2IyOTBJRU5CTUZrd0V3WUhLb1pJCnpqMENBUVlJS29aSXpqMERBUWNEUWdBRThPRTJVTXBHNW1CenhhMGk0elJNa25qMkN6dnFlbFNNZm0wZElyNE4KOUNhbXF4VklwN1I3K0kwVU43bmRzODh1VFc4WHJvT29aZkNOVjRXREdNaVlmNk5GTUVNd0RnWURWUjBQQVFILwpCQVFEQWdFR01CSUdBMVVkRXdFQi93UUlNQVlCQWY4Q0FRRXdIUVlEVlIwT0JCWUVGQXNjZ2RCYTlHUW10UGZHCldwaGgvYzdNQkhuN01Bb0dDQ3FHU000OUJBTUNBMGdBTUVVQ0lGd25JRmxzYTV0Wjc2WDZKQU5ramRCTENWZy8KUk5CSTRPaXM2ZGg3Yml0NkFpRUF5ZGdFSDVxSmtYMyt3R2xWbkswU2wrbkhoOU9MK1ZBdk50YnJ2d3VSWVVZPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t
  # Provisioner configuration
  provisioner:
    name: chris@chillincool.net
    kid: 5cTlEQF4KuPEWMh-UiosM58oX4M6tBnphMUMqzSMyHo
    passwordRef:
      name: step-ca-provisioner
      namespace: cert-manager
      key: password
